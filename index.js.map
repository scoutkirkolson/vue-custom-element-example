{"version":3,"file":"index.js","sources":["../src/utils.ts","../src/DarkModeSwitch.ce.vue","../src/GithubLink.ce.vue","../src/index.ts"],"sourcesContent":["import { getCurrentInstance, computed, warn } from 'vue'\n\n// NOTE: Since it depends on Vue internals, it's likely to break when the vnode\n// implementation changes.\nexport function useShadowHost () {\n  const instance = getCurrentInstance()\n\n  return computed(() => {\n    try {\n      return instance!.vnode!.el!.parentNode.host as HTMLElement\n    } catch (error) {\n      warn('component instance or element not available, can not find shadow host', instance)\n      return undefined\n    }\n  })\n}\n","<script setup lang='ts'>\nimport { getCurrentInstance, watch, onMounted } from 'vue'\nimport { useDark, useToggle } from '@vueuse/core'\nimport { useShadowHost } from './utils'\n\nconst isDark = useDark()\nconst toggleDark = useToggle(isDark)\n\nlet host = $ref(useShadowHost())\n\nfunction reflectDark () {\n  host?.toggleAttribute('dark', isDark.value)\n}\n\nonMounted(reflectDark)\nwatch(isDark, reflectDark)\n</script>\n\n<template>\n  <button aria-label=\"Toggle theme\" @click=\"toggleDark()\">\n    <transition name=\"slide\" mode=\"out-in\">\n      <ic:twotone-nightlight v-if=\"isDark\"/>\n      <ic:twotone-wb-sunny v-else/>\n    </transition>\n  </button>\n</template>\n\n<style>\n:host {\n  --color: #fbbf24;\n  --bg-normal: #fAfAf9;\n  --bg-active: #f5f5f4;\n  --font-size: 24px;\n}\n\n:host([dark]) {\n  --color: #fef3c7;\n  --bg-normal: #262626;\n  --bg-active: #2d2d2d;\n}\n\nbutton {\n  background-color: var(--bg-normal);\n  border: none;\n  border-radius: .5rem;\n  color: var(--color);\n  cursor: pointer;\n  display: flex;\n  font-size: var(--font-size);\n  overflow: hidden;\n  padding: 0.4em;\n  transition: background-color 0.3s ease, color 0.3s cubic-bezier(0.64, 0, 0.78, 0);\n}\n\nbutton:hover,\nbutton:focus {\n  background-color: var(--bg-active);\n  outline: none;\n}\n\n.slide-enter-active,\n.slide-leave-active {\n  transition: transform 0.3s ease-out;\n}\n\n.slide-enter-from {\n  transform: translateY(-150%);\n}\n\n.slide-enter-to,\n.slide-leave-from {\n  transform: translateY(0);\n}\n\n.slide-leave-to {\n  transform: translateY(150%);\n}\n</style>\n","<template>\n  <a href=\"https://github.com/ElMassimo/vue-custom-element-example\" aria-label=\"Source Code\" title=\"Source Code\">\n    <mdi:github/>\n  </a>\n</template>\n\n<style>\na {\n  color: inherit;\n  display: block;\n  opacity: 0.6;\n  margin-top: 8rem;\n}\n\na:hover {\n  opacity: 1;\n}\n\nsvg {\n  height: 48px;\n  width: 48px;\n}\n</style>\n","import { defineCustomElement } from 'vue'\nimport DarkModeSwitchWithStyles from './DarkModeSwitch.ce.vue'\nimport GithubLinkWithStyles from './GithubLink.ce.vue'\n\nexport const DarkModeSwitch = defineCustomElement(DarkModeSwitchWithStyles)\nexport const GithubLink = defineCustomElement(GithubLinkWithStyles)\n\nexport function register (tagName: string = 'dark-mode-switch') {\n  customElements.define(tagName, DarkModeSwitch)\n  customElements.define('github-link', GithubLink)\n}\n"],"names":["_ref"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIO,SAAS,aAAiB,GAAA;AAC/B,EAAA,MAAM,WAAW,kBAAmB,EAAA,CAAA;AAEpC,EAAA,OAAO,SAAS,MAAM;AACpB,IAAI,IAAA;AACF,MAAO,OAAA,QAAA,CAAU,KAAO,CAAA,EAAA,CAAI,UAAW,CAAA,IAAA,CAAA;AAAA,aAChC,KAAP,EAAA;AACA,MAAA,IAAA,CAAK,yEAAyE,QAAQ,CAAA,CAAA;AACtF,MAAO,OAAA,KAAA,CAAA,CAAA;AAAA,KACT;AAAA,GACD,CAAA,CAAA;AACH;;;;;ACVA,IAAA,MAAA,MAAA,GAAA,OAAA,EAAA,CAAA;AACA,IAAA,MAAA,UAAA,GAAA,SAAA,CAAA,MAAA,CAAA,CAAA;AAEA,IAAA,IAAA,IAAA,GAAAA,GAAA,CAAA,aAAA,EAAA,CAAA,CAAA;AAEA,IAAA,SAAA,WAAA,GAAA;AACE,MAAA,IAAA,CAAA,KAAA,EAAA,eAAA,CAAA,MAAA,EAAA,MAAA,CAAA,KAAA,CAAA,CAAA;AAA0C,KAAA;AAG5C,IAAA,SAAA,CAAA,WAAA,CAAA,CAAA;AACA,IAAA,KAAA,CAAA,MAAA,EAAA,WAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACdK,MAAA,UAAA,GAAA;AAA+D,EAAA,IAAA,EAAA,yDAAA;AAAyB,EAAA,YAAA,EAAA,aAAA;;;;;;AAA3F;;;;;;;ACGW,MAAA,cAAA,GAAiB,oBAAoB,wBAAwB,EAAA;AAC7D,MAAA,UAAA,GAAa,oBAAoB,oBAAoB,EAAA;AAElD,SAAA,QAAA,CAAU,UAAkB,kBAAoB,EAAA;AAC9D,EAAe,cAAA,CAAA,MAAA,CAAO,SAAS,cAAc,CAAA,CAAA;AAC7C,EAAe,cAAA,CAAA,MAAA,CAAO,eAAe,UAAU,CAAA,CAAA;AACjD;;;;"}